"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}require("core-js/modules/web.dom.iterable"),require("core-js/modules/es6.array.iterator"),require("core-js/modules/es6.object.keys"),require("core-js/modules/es6.regexp.split");var _defineProperty=_interopDefault(require("@babel/runtime/helpers/defineProperty"));require("core-js/modules/es6.object.assign"),require("core-js/modules/es6.regexp.replace"),require("core-js/modules/es6.regexp.search");var zaxUrl={parse:function(e){try{var r=document.createElement("a");return r.href=e,{hash:r.hash,host:r.host||location.host,hostname:r.hostname||location.hostname,href:r.href,origin:r.origin,pathname:"/"!=r.pathname.charAt(0)?"/"+r.pathname:r.pathname,port:"0"===r.port||""===r.port?this._port(r.protocol):r.port,protocol:r.protocol&&":"!=r.protocol?r.protocol:location.protocol,search:r.search||""}}catch(r){var t=e.slice(e.lastIndexOf("#")>-1?e.lastIndexOf("#"):e.length)||"",o=e.replace(t,"");return{href:e,hash:t,search:o.slice(o.lastIndexOf("?")>-1?o.lastIndexOf("?"):o.length)||""}}},get:function(e,r){if(1==arguments.length)if(r=e,location)e=location.href;else{var t=getCurrentPages(),o=t[t.length-1].route;e=o.route+o.options}return this.search(e)[r]||""},set:function(e,r,t){if(!r)return console.log("key can not be null"),e;var o=this.search(e);""===t||null===t?delete o[r]:o=Object.assign({},o,_defineProperty({},r,t));var n=this._objToStr(o),s=this.parse(e).hash,a=e.replace(s,""),c=a.indexOf("?");return c=c>-1?c:a.length,e.slice(0,c)+(n?"?"+n:"")+s},del:function(e,r){return this.set(e,r,null)},search:function(e){var r=this.parse(e).search.replace("?","");return r?this._strToObj(r):(console.log("no search char"),{})},_strToObj:function(e){return e.split("&").reduce(function(e,r){var t=r.split("=");return t[0]&&(e[t[0]]=t[1]),e},{})},_objToStr:function(e){return Object.keys(e).reduce(function(r,t){return r.push("".concat(t,"=").concat(e[t])),r},[]).join("&")},_port:function(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}};module.exports=zaxUrl;
