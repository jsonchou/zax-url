define(["exports"],function(t){"use strict";var e={strToObj:function(t){return t.split("&").reduce(function(t,e){var r=e.split("=");return r[0]&&(t[r[0]]=r[1]),t},{})},objToStr:function(t){return Object.keys(t).reduce(function(e,r){return e.push(r+"="+t[r]),e},[]).join("&")},port:function(t){switch(t){case"http:":return 80;case"https:":return 443;default:return parseInt(location.port)}},testFoo:function(t,e){return t.split("")[e]}};t.zaxUrl={parse:function(t){if("undefined"!=typeof document){var r=document.createElement("a");return r.href=t,{hash:r.hash,host:r.host||location.host,hostname:r.hostname||location.hostname,href:r.href,origin:r.origin,pathname:"/"!=r.pathname.charAt(0)?"/"+r.pathname:r.pathname,port:"0"===r.port||""===r.port?e.port(r.protocol):r.port,protocol:r.protocol&&":"!=r.protocol?r.protocol:location.protocol,search:r.search||""}}var o=t.slice(t.lastIndexOf("#")>-1?t.lastIndexOf("#"):t.length)||"",n=t.replace(o,"");return{href:t,hash:o,search:n.slice(n.lastIndexOf("?")>-1?n.lastIndexOf("?"):n.length)||""}},get:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1];if(1==arguments.length)if(o=r,"undefined"!=typeof document)r=location.href;else if("undefined"!=typeof wx){var n=getCurrentPages(),a=n[n.length-1].route;r=a.route+a.options}return r?this.search(r)[o]||"":(console.log("url param lost"),"")},set:function(t,r,o){if(void 0===o&&(o=""),!r)return console.log("key can not be null"),t;var n=this.search(t);2==arguments.length&&"[object Object]"===Object.prototype.toString.call(r)?Object.assign(n,r):""===o||null==o?delete n[r]:n[r]=o;var a=e.objToStr(n),s=this.parse(t).hash,c=t.replace(s,""),l=c.indexOf("?");return l=l>-1?l:c.length,t.slice(0,l)+(a?"?"+a:"")+s},del:function(t,e){return this.set(t,e,null)},search:function(t){var r=this.parse(t).search.replace("?","");return r?e.strToObj(r):{}},hash:function(t){var e=this.parse(t).hash.replace("#","");return e||(console.log("no hash char"),"")},pathKey:function(t,e){return void 0===e&&(e=0),t.split("/").pop().split(/\?|\#/)[0].slice(e)}},Object.defineProperty(t,"__esModule",{value:!0})});
