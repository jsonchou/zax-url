!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.zaxUrl=t()}(this,function(){"use strict";return{parse:function(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,{hash:t.hash,host:t.host||location.host,hostname:t.hostname||location.hostname,href:t.href,origin:t.origin,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,port:"0"===t.port||""===t.port?expUtil.port(t.protocol):t.port,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search||""}}var o=e.slice(e.lastIndexOf("#")>-1?e.lastIndexOf("#"):e.length)||"",n=e.replace(o,"");return{href:e,hash:o,search:n.slice(n.lastIndexOf("?")>-1?n.lastIndexOf("?"):n.length)||""}},get:function(e,t){if(1==arguments.length)if(t=e,"undefined"!=typeof document)e=location.href;else if(wx){var o=getCurrentPages(),n=o[o.length-1].route;e=n.route+n.options}return this.search(e)[t]||""},set:function(e,t,o){if(!t)return console.log("key can not be null"),e;var n=this.search(e);2==arguments.length&&"[object Object]"===Object.prototype.toString.call(t)?Object.assign(n,t):""===o||null===o?delete n[t]:n[t]=o;var r=expUtil.objToStr(n),a=this.parse(e).hash,s=e.replace(a,""),h=s.indexOf("?");return h=h>-1?h:s.length,e.slice(0,h)+(r?"?"+r:"")+a},del:function(e,t){return this.set(e,t,null)},search:function(e){var t=this.parse(e).search.replace("?","");return t?expUtil.strToObj(t):""},hash:function(e){var t=this.parse(e).hash.replace("#","");return t||(console.log("no hash char"),"")},pathKey:function(e,t){return void 0===t&&(t=0),e.split("/").pop().split(/\?|\#/)[0].slice(t)}}});
