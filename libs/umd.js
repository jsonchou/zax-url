!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.zaxUrl=e()}(this,function(){"use strict";return{parse:function(t){try{var e=document.createElement("a");return e.href=t,{hash:e.hash,host:e.host||location.host,hostname:e.hostname||location.hostname,href:e.href,origin:e.origin,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,port:"0"===e.port||""===e.port?this._port(e.protocol):e.port,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search||""}}catch(e){var o=t.slice(t.lastIndexOf("#")>-1?t.lastIndexOf("#"):t.length)||"",r=t.replace(o,"");return{href:t,hash:o,search:r.slice(r.lastIndexOf("?")>-1?r.lastIndexOf("?"):r.length)||""}}},get:function(t,e){if(1==arguments.length)if(e=t,location)t=location.href;else{var o=getCurrentPages(),r=o[o.length-1].route;t=r.route+r.options}return this.search(t)[e]||""},set:function(t,e,o){if(!e)return console.log("key can not be null"),t;var r=this.search(t);2==arguments.length&&"[object Object]"===Object.prototype.toString.call(e)?Object.assign(r,e):""===o||null===o?delete r[e]:r[e]=o;var n=this._objToStr(r),a=this.parse(t).hash,c=t.replace(a,""),s=c.indexOf("?");return s=s>-1?s:c.length,t.slice(0,s)+(n?"?"+n:"")+a},del:function(t,e){return this.set(t,e,null)},search:function(t){var e=this.parse(t).search.replace("?","");return e?this._strToObj(e):(console.log("no search char"),{})},hash:function(t){var e=this.parse(t).hash.replace("#","");return e||(console.log("no hash char"),"")},_strToObj:function(t){return t.split("&").reduce(function(t,e){var o=e.split("=");return o[0]&&(t[o[0]]=o[1]),t},{})},_objToStr:function(t){return Object.keys(t).reduce(function(e,o){return e.push("".concat(o,"=").concat(t[o])),e},[]).join("&")},_port:function(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}}});
