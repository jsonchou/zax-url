!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.zaxUrl={})}(this,function(e){"use strict";var t={strToObj:function(e){return e.split("&").reduce(function(e,t){var o=t.split("=");return o[0]&&(e[o[0]]=o[1]),e},{})},objToStr:function(e){return Object.keys(e).reduce(function(t,o){return t.push(o+"="+e[o]),t},[]).join("&")},port:function(e){switch(e){case"http:":return 80;case"https:":return 443;default:return parseInt(location.port)}},testFoo:function(e,t){return e.split("")[t]}};e.zaxUrl={parse:function(e){if("undefined"!=typeof document){var o=document.createElement("a");return o.href=e,{hash:o.hash,host:o.host||location.host,hostname:o.hostname||location.hostname,href:o.href,origin:o.origin,pathname:"/"!=o.pathname.charAt(0)?"/"+o.pathname:o.pathname,port:"0"===o.port||""===o.port?t.port(o.protocol):o.port,protocol:o.protocol&&":"!=o.protocol?o.protocol:location.protocol,search:o.search||""}}var r=e.slice(e.lastIndexOf("#")>-1?e.lastIndexOf("#"):e.length)||"",n=e.replace(r,"");return{href:e,hash:r,search:n.slice(n.lastIndexOf("?")>-1?n.lastIndexOf("?"):n.length)||""}},get:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=e[0],r=e[1];if(1==arguments.length)if(r=o,"undefined"!=typeof document)o=location.href;else if("undefined"!=typeof wx){var n=getCurrentPages(),a=n[n.length-1].route;o=a.route+a.options}return o?this.search(o)[r]||"":(console.log("url param lost"),"")},set:function(e,o,r){if(void 0===r&&(r=""),!o)return console.log("key can not be null"),e;var n=this.search(e);2==arguments.length&&"[object Object]"===Object.prototype.toString.call(o)?Object.assign(n,o):""===r||null==r?delete n[o]:n[o]=r;var a=t.objToStr(n),s=this.parse(e).hash,c=e.replace(s,""),i=c.indexOf("?");return i=i>-1?i:c.length,e.slice(0,i)+(a?"?"+a:"")+s},del:function(e,t){return this.set(e,t,null)},search:function(e){var o=this.parse(e).search.replace("?","");return o?t.strToObj(o):{}},hash:function(e){var t=this.parse(e).hash.replace("#","");return t||(console.log("no hash char"),"")},pathKey:function(e,t){return void 0===t&&(t=0),e.split("/").pop().split(/\?|\#/)[0].slice(t)}},Object.defineProperty(e,"__esModule",{value:!0})});
