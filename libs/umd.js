!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.zaxUrl=e()}(this,function(){"use strict";return{parse:function(t){if("undefined"!=typeof document){var e=document.createElement("a");return e.href=t,{hash:e.hash,host:e.host||location.host,hostname:e.hostname||location.hostname,href:e.href,origin:e.origin,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,port:"0"===e.port||""===e.port?this._port(e.protocol):e.port,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search||""}}var n=t.slice(t.lastIndexOf("#")>-1?t.lastIndexOf("#"):t.length)||"",o=t.replace(n,"");return{href:t,hash:n,search:o.slice(o.lastIndexOf("?")>-1?o.lastIndexOf("?"):o.length)||""}},get:function(t,e){if(1==arguments.length)if(e=t,"undefined"!=typeof document)t=location.href;else if(wx){var n=getCurrentPages(),o=n[n.length-1].route;t=o.route+o.options}return this.search(t)[e]||""},set:function(t,e,n){if(!e)return console.log("key can not be null"),t;var o=this.search(t);2==arguments.length&&"[object Object]"===Object.prototype.toString.call(e)?Object.assign(o,e):""===n||null===n?delete o[e]:o[e]=n;var r=this._objToStr(o),s=this.parse(t).hash,a=t.replace(s,""),c=a.indexOf("?");return c=c>-1?c:a.length,t.slice(0,c)+(r?"?"+r:"")+s},del:function(t,e){return this.set(t,e,null)},search:function(t){var e=this.parse(t).search.replace("?","");return e?this._strToObj(e):""},hash:function(t){var e=this.parse(t).hash.replace("#","");return e||(console.log("no hash char"),"")},pathKey:function(t,e){return void 0===e&&(e=0),t.split("/").pop().split(/\?|\#/)[0].slice(e)},_strToObj:function(t){return t.split("&").reduce(function(t,e){var n=e.split("=");return n[0]&&(t[n[0]]=n[1]),t},{})},_objToStr:function(t){return Object.keys(t).reduce(function(e,n){return e.push(n+"="+t[n]),e},[]).join("&")},_port:function(t){switch(t){case"http:":return 80;case"https:":return 443;default:return parseInt(location.port)}},testFoo:function(t,e){return t.split("")[e]}}});
